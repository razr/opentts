
prefix = @prefix@
datadir = @datadir@
sysconfdir = @sysconfdir@
spdconforigdir = @spdconforigdir@
datarootdir = @datarootdir@

SPD_CONF_PATH_PY="opentts_config/spd_conf_path.py"

all:
	echo "SPD_CONF_ORIG_PATH=\"@spdconforigdir@\"" > opentts_config/paths.py
	echo "SPD_CONF_PATH=\"@spdconfdir@\"" >> opentts_config/paths.py
	echo "SPD_SOUND_DATA_PATH=\"@snddatadir@\"" >> opentts_config/paths.py
	echo "SPD_DESKTOP_CONF_PATH=\"@spddesktopconforigdir@\"" >> opentts_config/paths.py
	@ENABLE_SESSION_TRUE@echo "SPD_SPAWN_CMD=\"@prefix@/bin/opentts-server-spawn\"" > opentts/spawn.py

install:
	if test -x /usr/bin/python; then \
		if test -n "${DESTDIR}"; then \
			./setup.py install --root="${DESTDIR}" --prefix="${prefix}"; \
		else \
			./setup.py install --prefix="${prefix}"; \
		fi; \
	else \
		echo "Python not found, not installing opentts module nor otts-conf"; \
	fi
	cp opentts_config/test.wav "${DESTDIR}@snddatadir@"

	if test ! -d "${DESTDIR}@spddesktopconforigdir@"; then \
		mkdir -p "${DESTDIR}@spddesktopconforigdir@"; \
	fi

	cp opentts_config/opentts.desktop "${DESTDIR}@spddesktopconforigdir@/"

uninstall:
	rm -f "${DESTDIR}@snddatadir@/test.wav"
	rm -rf "${DESTDIR}@spddesktopconforigdir@"

clean:
	rm -f *.pyc
	rm -rf build
	rm -f opentts_config/paths.py
	rm -f opentts/spawn.py

distclean: clean

maintainer-clean: clean

distdir:


check:

